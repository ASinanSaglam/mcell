/* REFLECTIVE/ABSORPTIVE/TRANSPARENT properties of REGION border tested on the cube. */


basename = "07-region_borders"
countdir = "dat/" & basename & "/"
dt = 1e-6
TIME_STEP = dt
TIME_STEP_MAX = dt
ITERATIONS = 100 
EFFECTOR_GRID_DENSITY = 10000

VACANCY_SEARCH_DISTANCE = 1

DEFINE_MOLECULES
{
   A {DIFFUSION_CONSTANT_2D = 2e-4}
   B {DIFFUSION_CONSTANT_2D = 2e-4}
   C {DIFFUSION_CONSTANT_2D = 2e-4}
   D {DIFFUSION_CONSTANT_2D = 2e-4}
   E {DIFFUSION_CONSTANT_2D = 2e-4}
            
}


DEFINE_SURFACE_CLASSES 
{
   my_surf_1
   {
      REFLECTIVE = A;  
      ABSORPTIVE = B;
      TRANSPARENT = C;
   }
   my_surf_2
   {
      REFLECTIVE = D;  
      REFLECTIVE = E;  
   }
}

DEFINE_REACTIONS
{
   D' @ my_surf_2; -> E'[4e3]
}

box BOX
{
   CORNERS = [-0.13,-0.13,-0.13] , [0.13,0.13,0.13]
   DEFINE_SURFACE_REGIONS
	{
	   r1{
		ELEMENT_LIST = [RIGHT] 
                      
                MOLECULE_NUMBER{
                  A' = 100
                  B' = 100
                  C' = 100
                }

                SURFACE_CLASS = my_surf_1  
	     }
                  
	   r2{
		ELEMENT_LIST = [TOP,BOTTOM,LEFT,FRONT,BACK] 
	     }
	   r3{
		ELEMENT_LIST = [TOP] 
                MOLECULE_NUMBER{
                  D' = 100
                }
                SURFACE_CLASS = my_surf_2  
	     }

	}
}


INSTANTIATE world OBJECT 
{
   box OBJECT box {}
}

REACTION_DATA_OUTPUT
{
   STEP = dt
   HEADER = "# "
   {
      COUNT ["A;", world.box[r1]]: "r1_A",
      COUNT ["A;", world.box[r2]]: "r2_A"
   }	=> countdir & "A.dat"

   {
      COUNT ["C;", world.box[r1]]: "r1_C",
      COUNT ["C;", world.box[r2]]: "r2_C"
   }	=> countdir & "C.dat"

}

REACTION_DATA_OUTPUT
{
   TIME_LIST = [7e-5, [7.1e-5 TO 1e-4 STEP 1e-6]]

   HEADER = "# "
   {
      COUNT ["B;", world.box[r1]]: "r1_B",
      COUNT ["B;", world.box[r2]]: "r2_B"
   }	=> countdir & "B.dat"

}

REACTION_DATA_OUTPUT
{
   STEP = dt
   HEADER = "# "
   {
      COUNT ["D;", world.box[r3]]: "r3_D",
      COUNT ["E;", world.box[r3]]: "r3_E"
   }	=> countdir & "r3.dat"

}










