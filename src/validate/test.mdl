
dt = 1e-6
it = 500
efg = 10000

n=2500

TIME_STEP = dt
TIME_STEP_MAX = dt*200
ITERATIONS = it
EFFECTOR_GRID_DENSITY = efg
RADIAL_SUBDIVISIONS = 256
RADIAL_DIRECTIONS = 16384

DEFINE_MOLECULE ACh {
  DIFFUSION_CONSTANT = 2.2e-6
}

DEFINE_MOLECULE Glu {
  DIFFUSION_CONSTANT = 2.1e-6
}

DEFINE_REACTIONS {
  ACh -> ACh + Glu [2000]
  Glu' -> Glu, + ACh' [1000]
  ACh + Glu' -> Glu, + ACh' [3000]
  ACh + Glu -> NULL [4000]
}

DEFINE_RELEASE_PATTERN pat1 {
  DELAY = 0
  RELEASE_INTERVAL = 4.0e-3
  TRAIN_INTERVAL = 1
  TRAIN_DURATION = 20.0e-3
  NUMBER_OF_TRAINS = 1
}

DEFINE_RELEASE_PATTERN pat2 {
  DELAY = 1.5e-3
  RELEASE_INTERVAL = 3.0e-3
  TRAIN_INTERVAL = 1
  TRAIN_DURATION = 20.0e-3
  NUMBER_OF_TRAINS = 1
}

ACh_release_site SPHERICAL_RELEASE_SITE {
  LOCATION = [-0.5,0,0]
  MOLECULE = ACh
  NUMBER_TO_RELEASE = n
  SITE_DIAMETER = 0.01
  RELEASE_PATTERN = pat1
}

Glu_release_site SPHERICAL_RELEASE_SITE {
  LOCATION = [0.5,0,0]
  MOLECULE = Glu
  NUMBER_TO_RELEASE = n
  SITE_DIAMETER = 0
  RELEASE_PATTERN = pat2
}

INSTANTIATE foo OBJECT {
  ACh_release_site OBJECT ACh_release_site {}
  Glu_release_site OBJECT Glu_release_site {}
}

INCLUDE_FILE = "test_include.mdl"

/*
  printf("a = %g\n",a)
*/

