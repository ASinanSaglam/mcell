LEX    = lex
YACC   = yacc
YFLAGS = -d
CC     = clang
CFLAGS = -g -lm

all: dyngeom_parse

dyngeom_parse: lex.yy.c y.tab.c sym_table.c mem_util.c logging.c vector.c strfunc.c util.c mcell_objects.c
	$(CC) $(CFLAGS) $^ -o $@

lex.yy.c: dyngeom_lex.l
	$(LEX) $(LFLAGS) -o $@ $^

y.tab.c: dyngeom_parse.y
	$(YACC) $(YFLAGS) -o $@ $^

clean:
	$(RM) *.o y.tab.h y.tab.c lex.yy.c dyngeom_parse
